<!DOCTYPE html>
<html lang="kk">
<head>
  <meta charset="UTF-8">
  <title>Attendance</title>
</head>
<body>
  <h2>Оқушының қатысуын белгілеу</h2>

  <input type="text" id="studentName" placeholder="Оқушы аты">
  <button onclick="markAttendance()">Белгілеу</button>

  <h3>Қатысқан оқушылар:</h3>
  <ul id="attendanceList"></ul>

  <!-- Firebase қосу -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyDP2SHjJQYzu_lhWUbk1NBN6H65mR5YI_s",
      authDomain: "groowin-attendance.firebaseapp.com",
      projectId: "groowin-attendance",
      storageBucket: "groowin-attendance.firebasestorage.app",
      messagingSenderId: "737566994771",
      appId: "1:737566994771:web:982cf9e32e968229f2b1a6",
      measurementId: "G-WJXHCBGJBN"
    };

    // Firebase инициализация
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // Белгілеу функциясы
    function markAttendance() {
      const name = document.getElementById("studentName").value;
      if(name === "") return alert("Оқушы атын енгіз!");
      const newRef = db.ref("attendance").push();
      newRef.set({
        name: name,
        time: new Date().toLocaleString()
      });
      document.getElementById("studentName").value = "";
    }

    // Тізімді көрсету
    db.ref("attendance").on("value", (snapshot) => {
      const list = document.getElementById("attendanceList");
      list.innerHTML = "";
      snapshot.forEach(child => {
        const li = document.createElement("li");
        li.textContent = child.val().name + " - " + child.val().time;
        list.appendChild(li);
      });
    });
  </script>
</body>
</html>
